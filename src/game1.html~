<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ch2BaseFile - Template For Chapter 2 Examples</title> <script src="modernizr.custom.34365.js"></script>
<script type="text/javascript"> window.addEventListener('load', eventWindowLoaded, false); function eventWindowLoaded() {
canvasApp();
}
function canvasSupport () {
return Modernizr.canvas; }
function canvasApp(){
if (!canvasSupport()) {
 return;
}else{
  var theCanvas = document.getElementById("canvas");
  var context = theCanvas.getContext("2d");
}
drawScreen();
function drawScreen() {
//make changes here.
//   context.fillStyle = '#aaaaaa';
//   context.fillRect(100,100, 200, 200);
//   context.strokeRect(40,40,100,100);
//   context.fillStyle = '#000000';
//   context.font = '20px _sans';
//   context.textBaseline = 'top';
//   context.fillText ("Canvas!",50, 50);
//   context.beginPath();
//   context.strokeStyle = "black";
//   context.lineWidth = 5;
//   context.arc(100,100,20,(Math.PI/180)*0,(Math.PI/180)*360,false);
//   context.stroke();
//   context.closePath();
	var animationFrames = [1,2,3,4,5,6,7,8];
	var frameIndex = 0;
	var dx = 33;
	var dy = 33;
	var x = 10; 
	var y = 10;
	var sourceDex = 33;
	var counter = 0;
	var tileSheet = new Image();
	tileSheet.addEventListener('load',eventShipLoaded , false);
	tileSheet.src = 'tankbrigade.png';
	function startUp(){
		setInterval(drawScreen,100);
	}
	function eventShipLoaded() {
		startUp(); 
	}
	
	function drawScreen() {
	//draw a background so we can see the Canvas edges 
		y = y+dy; 
		x = x+dx;
		context.fillStyle = "#aaaaaa";
		context.fillRect(0,0,500,500);
		var sourceX = frameIndex * 32;
		var sourceY = frameIndex * 32;
		context.drawImage(tileSheet, sourceX, sourceY,33,33,x,y,33,33);
		frameIndex++;
		if (frameIndex == animationFrames.length) {
			frameIndex=0; 
		}
		else{
			console.log('in count ' + counter);
		}
	}
	}
 }
</script>
</head>
<body>
<div style="position: absolute; top: 50px; left: 50px;"> <canvas id="canvas" width="500" height="500">
Your browser does not support HTML5 Canvas. </canvas>
</div>
</body>
</html>
